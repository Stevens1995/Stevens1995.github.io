<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Truly reactive programming with Svelte3.0]]></title>
    <url>%2FTruly-reactive-programming-with-Svelte3-0%2F</url>
    <content type="text"><![CDATA[æœ¬æ–‡æ˜¯ä¸€ç¯‡ç¿»è¯‘è¿‡æ¥çš„æ–‡ç« ï¼ŒåŽŸæ–‡åœ°å€ï¼šhttps://blog.logrocket.com/truly-reactive-programming-with-svelte-3-0-321b49b75969è¿™ä¸ªæ ‡é¢˜æœ‰ç‚¹æˆå‰§æ€§ï¼Œä½†æ˜¯è¯åˆè¯´å›žæ¥ï¼ŒSvelteèƒŒåŽçš„æƒ³æ³•æ­£æ˜¯å¦‚æ­¤ã€‚å¦‚æžœä½ è¿˜ä¸çŸ¥é“Svelteæ˜¯ä»€ä¹ˆï¼Œé‚£èµ¶ç´§è¿‡æ¥çž…çž… â€” ä½ å°†ä¼šçœ‹åˆ°ä¸€åœºé©å‘½ï¼Œå¹¶ä¸”Svelteå°†ä¼šå–å¾—æœ€åŽçš„èƒœåˆ©ï¼ˆå¹¶ä¸æ˜¯åœ¨å¯¹Svelteå›¢é˜Ÿæ–½åŠ åŽ‹åŠ›å“ˆðŸ˜…ï¼‰ã€‚è¯·æ³¨æ„æœ¬æ–‡å¹¶ä¸æ˜¯å­¦ä¹ å’Œä½¿ç”¨Svelteçš„æ•™ç¨‹ã€‚Svelteå›¢é˜Ÿå·²ç»æä¾›äº†ä¸€ä»½å¾ˆæ£’çš„ä¸€æ­¥ä¸€æ­¥çš„äº’åŠ¨å¼æ•™ç¨‹ï¼Œä»¥ä¾¿å¸®åŠ©ä½ èµ°è¿›ååº”å¼ç¼–ç¨‹çš„ä¸–ç•Œã€‚å…è´£å£°æ˜Žï¼šæˆ‘ä¸æ˜¯ç¼–ç¨‹ç•Œçš„æ‘‡æ»šæ˜Žæ˜Ÿï¼Œæˆ‘ä¸å¯èƒ½çŸ¥é“æ‰€æœ‰äº‹æƒ…ã€‚æˆ‘åªæ˜¯å¯¹æ¯å¤©å‘ç”Ÿçš„æ–°é²œäº‹æƒ…æ„Ÿåˆ°å¥½å¥‡ï¼Œå¹¶ä¸”åœ¨æˆ‘å¯ä»¥çš„æ—¶å€™åˆ†äº«- äºŽæ˜¯å°±æœ‰äº†è¿™ç¯‡æ–‡ç« ã€‚è¯·å¸¦ç€ä¸€äº›æ€€ç–‘çš„æƒ³æ³•æ¥çœ‹å¾…è¿™é‡Œæˆ‘æ‰€è¯´çš„äº‹æƒ…ï¼Œå¹¶ä¸”ï¼Œå¦‚æžœæˆ‘è¯´äº†ä¸€äº›æ„šè ¢çš„è¯ï¼Œéº»çƒ¦åŠæ—¶è®©æˆ‘çŸ¥é“ã€‚å¥½å˜žï¼è®©æˆ‘ä»¬å¼€å§‹å§ï¼ðŸ’¥é¦–å…ˆï¼Œå…³äºŽReactåœ¨æˆ‘å¼€å§‹è®¨è®ºä¸ºä»€ä¹ˆSvelteå¦‚æ­¤å¼ºå¤§ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹Dançš„ä¸€æ¡æŽ¨æ–‡ï¼Œä¸€æ®µæ—¶é—´åŽæˆ‘ä»¬å†æ¥çœ‹çœ‹å…¶ä¸­è¡¨è¾¾çš„æ„æ€ï¼šReact is not fully reactive&mdash; Dan Abramov (@dan_abramov) 2018å¹´8æœˆ4æ—¥å¦ä¸€ä»½å…è´£å£°æ˜Žï¼šè¿™ç¯‡æ–‡ç« ä¹Ÿä¸æ˜¯ä»¥ä»»ä½•æ–¹å¼æ‰¹è¯„å’Œæ”»å‡»Reactã€‚æˆ‘åªæ˜¯ç®€å•åœ°å†³å®šç”¨Reactä½œä¸ºä¸€ä¸ªå­¦ä¹ æ¡ˆä¾‹ï¼Œå› ä¸ºæ­¤æ–‡çš„å¤§éƒ¨åˆ†è¯»è€…åº”è¯¥éƒ½ç”¨è¿‡ä¸€ç‚¹Reactã€‚Reactæ˜¯è·ŸSvelteå¯¹æ¯”çš„ä¸€ä¸ªå¾ˆå¥½åœ°æ¡ˆä¾‹ã€‚Danåˆ°åº•æƒ³è¡¨è¾¾ä»€ä¹ˆï¼Œè¿™å¯¹æˆ‘ä»¬çŽ°åœ¨çš„ç¼–ç¨‹æ–¹å¼æœ‰ä½•å½±å“å‘¢ï¼Ÿåœ¨å›žç­”è¿™ä¸ªé—®é¢˜å‰ï¼Œè®©æˆ‘ç®€å•åœ°å‘ä½ ä»‹ç»ä¸‹ReactèƒŒåŽçš„å·¥ä½œåŽŸç†ã€‚å½“ä½ æ¸²æŸ“ä¸€ä¸ªReactåº”ç”¨æ—¶ï¼ŒReactä¿å­˜äº†ä¸€ä»½DOMçš„æ‹·è´ï¼Œç§°ä½œè™šæ‹ŸDOMã€‚è™šæ‹ŸDOMå……å½“ä½ çš„Reactä»£ç å’Œæµè§ˆå™¨æ¸²æŸ“DOMä¹‹é—´çš„ä¸­é—´äººã€‚æ¯å½“ä½ çš„æ•°æ®æ”¹å˜æ—¶ï¼ˆæ¯”å¦‚å½“ä½ è°ƒç”¨this.setStateï¼ŒuseStateï¼‰ï¼ŒReactåšäº†ä¸€ç‚¹å·¥ä½œæ¥å†³å®šå¦‚ä½•é‡ç»˜å±å¹•ä¸Šçš„UIã€‚æ•°æ®æ›´æ–°åŽï¼ŒReactä¼šå¯¹æ¯”è™šæ‹ŸDOMå’ŒçœŸå®žDOMï¼Œå¹¶ä¸”åªæ›´æ–°ä¸¤è€…é—´ä¸åŒçš„åœ°æ–¹ã€‚è¿™æ ·å°±é¿å…äº†æ¯æ¬¡æ•°æ®æ”¹å˜æ—¶éƒ½è¦é‡æ–°æ¸²æŸ“æ•´ä¸ªDOMã€‚çŽ°åœ¨ï¼Œä¸€åˆ‡éƒ½å˜å¾—å¾ˆè¿…é€Ÿï¼Œå› ä¸ºæ›´æ–°è™šæ‹ŸDOMæ¯”æ›´æ–°çœŸå®žDOMæ‰€è€—è´¹çš„æ€§èƒ½å°å¾ˆå¤šï¼ŒReactåªæ›´æ–°äº†çœŸå®žDOMç¡®å®žéœ€è¦æ›´æ–°çš„éƒ¨åˆ†ã€‚è¿™ç¯‡æ–‡ç« å¾ˆå¥½åœ°è®²è¿°äº†æ•´ä¸ªè¿‡ç¨‹ã€‚ä½†æ˜¯ï¼ä½†æ˜¯å•Šï¼Œèªæ˜Žçš„ä½ å¯èƒ½å·²ç»æ³¨æ„åˆ°äº†ä¸€äº›äº‹æƒ…ã€‚é‚£å°±æ˜¯ï¼Œå¦‚æžœä½ ä¸å‘Šè¯‰Reactä½ çš„æ•°æ®å‘ç”Ÿäº†æ”¹å˜ï¼ˆæ¯”å¦‚ï¼Œé€šè¿‡è°ƒç”¨this.setStateæˆ–è€…é’©å­å‡½æ•°ï¼‰ï¼Œä½ çš„è™šæ‹ŸDOMå°±ä¸ä¼šå‘ç”Ÿæ”¹å˜ï¼ŒReactå°±ä¸å†reactäº†ã€‚ï¼ˆba dum tss! ðŸ¤“ï¼‰ï¼ˆè¿™å¥ç¿»è¯‘ä¸æ¥â€¦æœ‰ç‚¹åƒ dumb assâ€¦ï¼‰è¿™å°±æ˜¯Danä¸ºä»€ä¹ˆè¯´Reactä¸æ˜¯å®Œå…¨reactiveçš„åŽŸå› ã€‚Reactä¾èµ–ç”¨æˆ·æ¥è·Ÿè¸ªåº”ç”¨ä¸­çš„æ•°æ®ï¼Œé€šè¿‡ç”¨æ¥å‘Šè¯‰è‡ªå·±æ•°æ®å‘ç”Ÿäº†æ”¹å˜ï¼Œä½†è¿™å¯¹ç”¨æˆ·æ¥è¯´é€šå¸¸æ˜¯é¢å¤–çš„å·¥ä½œã€‚OKï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹SvelteSvelteæä¾›ä¸€ç§å…¨æ–°çš„æ–¹å¼æ¥æ­å»ºè¶…çº§å¿«é€Ÿï¼Œé«˜æ•ˆï¼ŒçœŸæ­£å“åº”å¼è¡Œä¸ºçš„UIã€‚æ²¡æœ‰è™šæ‹ŸDOMï¼Œå¹¶ä¸”ä»£ç è¡Œæ•°æ¯”æ‰€æœ‰å…¶ä»–ä½ ç”¨è¿‡æ¡†æž¶æˆ–è€…åŒ…æ›´å°‘ã€‚è¿™å¬èµ·æ¥å¾ˆæ£’ï¼Œä½†æ˜¯å®ƒä¸Žä¼—å¤šçš„JavaScriptæ¡†æž¶æœ‰ä»€ä¹ˆä¸åŒå‘¢ï¼ŸLet me show you ðŸ˜çœŸæ­£çš„ååº”å¼Svelteä¸æ˜¯ä¸€ä¸ªåŒ…æˆ–è€…æ¡†æž¶ã€‚Svelteæ˜¯ä¸€ä¸ªç¼–è¯‘å™¨ï¼Œå®ƒæŽ¥å—åŽŸç”Ÿçš„JavaScriptä»£ç ï¼Œè¾“å‡ºçš„Javascriptä¹Ÿæ˜¯ç›´æŽ¥ä¸ŽDOMäº¤äº’ï¼Œè€Œä¸éœ€è¦ä»»ä½•å…¶ä»–ä¸œè¥¿å……å½“ä¸­ä»‹ã€‚ç­‰ä¸€ä¸‹ï¼Ÿä»€ä¹ˆï¼Ÿä¸€ä¸ªç¼–è¯‘å™¨ï¼Ÿï¼ˆä½œè€…æˆçœŸå¤šâ€¦ï¼‰ã€‚ æ˜¯çš„----- ä¸€ä¸ªç¼–è¯‘å™¨ã€‚è¿™æ˜¯ä¸€ä¸ªéžå¸¸æ£’çš„æƒ³æ³•ï¼Œæˆ‘ä¸æ˜Žç™½ä¸ºä»€ä¹ˆç›´åˆ°çŽ°åœ¨Svelteè¿˜ä¸æ˜¯å¾ˆæƒ¹äººæ³¨æ„ï¼ŒçŽ°åœ¨ï¼Œè®©æˆ‘æ¥å‘Šè¯‰ä½ ä¸ºä»€ä¹ˆSvelteæ˜¯é‚£ä¹ˆåœ°é…·ç‚«ã€‚ä»¥ä¸‹æ˜¯Rich Harrisåœ¨YGLF 2019å¹´ä¼šè®®ä¸Šçš„è®²è¯ï¼šSvelte 3.0å°†ååº”æ€§ä»Žç»„ä»¶APIç§»å…¥è¯­è¨€ä¸­ã€‚(Svelte 3.0 moves reactivity out of the component API and into the language.)è¿™å¥è¯æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿæˆ‘ä»¬å·²ç»çŸ¥é“äº†Reactï¼ˆä»¥åŠå¾ˆå¤šå…¶ä»–çš„å‰ç«¯æ¡†æž¶ï¼‰éœ€è¦ä½ è°ƒç”¨ç‰¹å®šçš„APIæ¥å‘Šè¯‰å…¶æ•°æ®å‘ç”Ÿäº†æ”¹å˜ï¼ˆé€šè¿‡è°ƒç”¨this.setStateæˆ–è€…useStateï¼‰æ‰èƒ½æ›´æ–°å®ƒçš„è™šæ‹ŸDOMã€‚åœ¨Reactä¸­ï¼Œéœ€è¦è°ƒç”¨this.setStateæ„å‘³ç€ä½ çš„åº”ç”¨çš„ååº”æ€§å…¶å®žæ˜¯ç»‘å®šåœ¨ç‰¹å®šçš„APIä¸Šï¼Œæ²¡æœ‰è¿™äº›APIï¼Œæ•°æ®çš„æ”¹å˜å¹¶ä¸ä¼šè¢«æ³¨æ„åˆ°ã€‚è€ŒSvelteé€šè¿‡å¦ä¸€ç§æ–¹å¼æ¥å®žçŽ°ååº”æ€§ã€‚Svelteä»ŽObservableè¿è¡Œä»£ç çš„æ–¹å¼ä¸­èŽ·å–åˆ°äº†çµæ„Ÿï¼Œä»¥æ‹“æ‰‘ä»£æ›¿ä»Žä¸Šè‡³ä¸‹çš„æ–¹å¼æ¥è¿è¡Œä»£ç ã€‚æˆ‘ä»¬é€šè¿‡ä¸‹é¢è¿™æ®µä»£ç æ¥çœ‹çœ‹ä»€ä¹ˆæ˜¯é€šè¿‡æ‹“æ‰‘é¡ºåºæ¥æ‰§è¡Œä»£ç ï¼š12345678(() =&gt; &#123; const square =&gt; number =&gt; number * number; const secondNumber = square(firstNumber); const firstNumber = 42; console.log(secondNumber); &#125;)(); å¦‚æžœä½ ä»Žä¸Šè‡³ä¸‹è¿è¡Œè¿™æ®µä»£ç çš„è¯ï¼Œè§£é‡Šåˆ°åœ¨ç¬¬4è¡Œçš„æ—¶å€™ï¼Œç¨‹åºä¼šæŠ¥é”™ã€‚å› ä¸ºsecondNunmberä¾èµ–äºŽfirstNumberï¼Œä½†firstNumberè¿˜æ²¡æœ‰è¢«å®šä¹‰ã€‚ä½†æ˜¯å¦‚æžœç¨‹åºä»¥æ‹“æ‰‘çš„æ–¹å¼æ¥æ‰§è¡Œçš„è¯ï¼Œç¨‹åºä¸ä¼šæŠ¥ä»»ä½•é”™è¯¯ã€‚ä¸ºä»€ä¹ˆå‘¢ï¼Ÿä»¥ä¸ºç¼–è¯‘å™¨ä¸ä¼šè‡ªä¸Šè€Œä¸‹æ‰§è¡Œä»£ç ï¼Œè€Œæ˜¯ä¼šæŸ¥çœ‹æ‰€æœ‰çš„å˜é‡ä»Žè€Œç”Ÿæˆä¸€ä¸ªä¾èµ–å›¾ï¼ˆå³è°è¢«éœ€è¦è°å…ˆè¢«æ‰§è¡Œï¼‰ åœ¨ä¸Šè¿°çš„ä¾‹å­ä¸­ï¼Œè¦ç†è§£ç¼–è¯‘å™¨å¦‚æžœä»¥æ‹“æ‰‘çš„æ–¹å¼ç¼–è¯‘ä»£ç å¾ˆç®€å•ï¼š squareå˜é‡ä¾èµ–å…¶ä»–å˜é‡å—ï¼Ÿ -æ²¡æœ‰ï¼Œåˆå§‹åŒ–square secondNumberä¾èµ–äºŽå…¶ä»–å˜é‡å—ï¼Ÿ -secondNumberä¾èµ–äºŽsquareå’ŒfirstNumber,squareå·²ç»è¢«åˆå§‹åŒ–ï¼Œä½†æ˜¯firstNumberè¿˜æ²¡æœ‰è¢«åˆå§‹åŒ–ï¼Œåˆå§‹åŒ–firstNumber OKï¼ŒfirstNumberå·²ç»è¢«åˆå§‹åŒ–ï¼ŒçŽ°åœ¨å¯ä»¥ç”¨firstNumberå’Œsquareæ¥åˆå§‹åŒ–secondNumber -è¿˜æœ‰å…¶ä»–çš„å˜é‡éœ€è¦åˆå§‹åŒ–å—ï¼Ÿæ²¡æœ‰-æ‰§è¡Œä»£ç  ä¹ä¸€çœ‹ï¼Œè¿™æ®µä»£ç ä¼¼ä¹Žä¾ç„¶æ˜¯ä»Žä¸Šåˆ°ä¸‹æ‰§è¡Œçš„ï¼Œä½†æ˜¯ä»”ç»†çœ‹çš„è¯ï¼Œä½ ä¼šå‘çŽ°å®žé™…ä¸Šä»£ç æ‰§è¡Œæ—¶ä¼šæœ‰ä¸€äº›è·³è½¬ã€‚ å½“ä»£ç æ‰§è¡Œåˆ°ç¬¬å››è¡Œæ—¶ï¼Œç¼–è¯‘å™¨å‘çŽ°firstNumberå¹¶æ²¡æœ‰è¢«å®šä¹‰ï¼ŒäºŽæ˜¯ç¼–è¯‘å™¨æš‚åœè§£é‡Šè¯¥è¯­å¥ï¼Œå¹¶ä¸”åœ¨ä½ çš„ä»£ç ä¸­å¯»æ‰¾è¯¥å˜é‡çš„å®šä¹‰ã€‚å½“æ‰¾åˆ°firstNumberåœ¨ç¬¬äº”è¡Œè¢«å®šä¹‰åŽï¼Œç¬¬äº”è¡Œä¼šå…ˆäºŽç¬¬å››è¡Œæ‰§è¡Œï¼Œå½“ç¬¬äº”è¡Œæ‰§è¡Œå®Œæ¯•åŽï¼Œå†è¿”å›žæ‰§è¡Œç¬¬å››è¡Œã€‚ TL;DRï¼šå¦‚æžœè¯­å¥Aä¾èµ–äºŽè¯­å¥Bï¼Œä¸ç®¡è¯­å¥å£°æ˜Žçš„é¡ºåºå¦‚ä½•ï¼ŒBå°†å…ˆäºŽAæ‰§è¡Œ Svelteæ˜¯å¦‚ä½•åº”ç”¨ä¸Šè¿°çš„åŽŸç†ä»¥å®žçŽ°çœŸæ­£çš„ååº”å¼å‘¢ï¼Ÿåœ¨Svelteä¸­ï¼Œä½ å¯ä»¥ç”¨ä¸€ä¸ªæ ‡è¯†ç¬¦æ¥è¡¨ç¤ºä¸€ä¸ªè¯­å¥ï¼Œåƒè¿™æ ·ï¼š$: foo = barã€‚è¿™æ ·åšä¹‹åŽï¼Œè¯­å¥foo = barå°±æœ‰äº†ä¸€ä¸ªè¡¨ç¤º$ï¼ˆä¸Šè¿°è¯­å¥åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ä¼šæŠ¥é”™ï¼‰ å½“Svelteçœ‹åˆ°ä»»ä½•æœ‰$å‰ç¼€çš„è¯­å¥æ—¶ï¼Œç¼–è¯‘å™¨å°±çŸ¥é“å·¦è¾¹çš„å˜é‡ç”±å³è¾¹çš„å˜é‡å¯¼å‡ºã€‚äºŽæ˜¯ï¼ŒçŽ°åœ¨æˆ‘ä»¬æœ‰äº†å°†ä¸€ä¸ªå˜é‡ç»‘å®šåœ¨å¦ä¸€ä¸ªå˜é‡çš„æ–¹æ³•ã€‚ Reactivity!(ååº”å¼!)è¿™æ„å‘³ç€çŽ°åœ¨æˆ‘ä»¬ç”¨JavaScriptçš„åŽŸç”ŸAPIæ¥å®žçŽ°çœŸæ­£çš„å“åº”å¼ï¼Œè€Œæ— éœ€å†æ‘†å¼„ä¸€äº›ä¸‰æ–¹APIï¼Œæ¯”å¦‚this.setStateã€‚ ä¸‹é¢çš„ä»£ç æ˜¯è¿™æ ·å†™çš„å®žé™…æ•ˆæžœï¼š 123456789// vanilla jslet foo = 10;let bar = foo + 10; // bar is now 20foo = bar // bar is still 20 (no reactivity)bar = foo + 5 // now bar becomes 25// svelte jslet foo = 10;$: bar = foo + 10; // bar is now 20foo = 15 // bar is now 25 because it is bound to the value of foo åœ¨ä¸Šè¿°çš„Svelteä»£ç ä¸­ï¼Œæˆ‘ä»¬å¹¶ä¸éœ€è¦å°†fooçš„æ–°å€¼é‡æ–°èµ‹å€¼ç»™barï¼Œä»£ç ä¼šå¸®æˆ‘ä»¬è‡ªåŠ¨å¤„ç†ã€‚å½“ä½ æŠŠfooçš„å€¼æ›´æ”¹ä¸º15æ—¶ï¼Œbarä¼šè‡ªåŠ¨æ›´æ–°ä¸º25ã€‚ ä¸Šè¿°çš„Svelteä»£ç ç»è¿‡ç¼–è¯‘åŽï¼Œå¤§æ¦‚ä¾¿å˜æˆè¿™æ ·ï¼š 1234567891011... omitted for brevity ...function instance($$self, $$props, $$invalidate) &#123; let foo = 10; // bar is now 20 $$invalidate('foo', foo = 15) // bar is now 25 because it is bound to the value of foo let bar; $$self.$$.update = ($$dirty = &#123; foo: 1 &#125;) =&gt; &#123; if ($$dirty.foo) &#123; $$invalidate('bar', bar = foo + 19); &#125; &#125;; return &#123; bar &#125;; &#125;... omitted for brevity ... èŠ±ç‚¹æ—¶é—´è®¤çœŸçœ‹çœ‹ä¸Šé¢çš„ä»£ç ï¼ŒçœŸçš„ï¼Œè®¤çœŸçœ‹ä¸‹ã€‚ ä½ çœ‹åˆ°fooæ˜¯å¦‚ä½•æ›´æ–°çš„å—ï¼Ÿå³ä½¿æ˜¯åœ¨baræ²¡æœ‰è¢«å®šä¹‰ä¹‹å‰ã€‚ï¼ˆæˆ‘æš‚æ—¶æ²¡çœ‹æ‡‚â€¦ï¼‰è¿™æ˜¯å› ä¸ºSvelteçš„ç¼–è¯‘å™¨ä»¥æ‹“æ‰‘çš„é¡ºåºæ¥æ‰§è¡Œä»£ç ï¼Œè€Œä¸æ˜¯è‡ªä¸Šè€Œä¸‹ã€‚ Svelteè‡ªåŠ¨å¯¹æ•°æ®çš„æ›´æ–°åšå‡ºæ”¹å˜ï¼Œè€Œä¸éœ€è¦ç”¨æˆ·å…³ç³»æ”¹å˜çš„å†…å®¹å’Œæ—¶é—´ï¼Œè¿™ä¸€åˆ‡éƒ½æ˜¯è‡ªåŠ¨è¿›è¡Œçš„ã€‚ç”¨æˆ·å¯ä»¥ä¸“æ³¨äºŽä»£ç é€»è¾‘ï¼Œè®©Svelteæ ¹æ®åº”ç”¨çŠ¶æ€çš„æ”¹å˜æ¥è°ƒèŠ‚UIã€‚ ç®€æ´ è®°å¾—æˆ‘è¯´è¿‡Svelteå¯ä»¥ç”¨æ›´å°‘çš„ä»£ç æ¥åšåˆ°ç›¸åŒçš„å·¥ä½œå—ï¼Ÿæˆ‘æ˜¯è®¤çœŸçš„ï¼çœ‹çœ‹ä¸‹é¢è¿™ä¸ªç»„ä»¶åˆ†åˆ«ç”¨Svelteå’ŒReactå®žçŽ°çš„ç‰ˆæœ¬ï¼š 17è¡Œä»£ç  vs 29è¡Œä»£ç  ä¸Šè¿°ä¸¤ä¸ªåº”ç”¨å®žçŽ°çš„åŠŸèƒ½å‡ ä¹Žå®Œå…¨ä¸€æ ·ï¼Œä½†æ˜¯ä½ å¯ä»¥çœ‹åˆ°åœ¨React.jsä¸­ï¼Œæˆ‘ä»¬ä¸å¾—ä¸ç¼–å†™æ›´å¤šåœ°ä»£ç  ---- Angularé‡Œé¢æ›´è¿‡åˆ†ã€‚ Svelteç®€æ´çš„ä»£ç é™¤äº†çœ‹èµ·æ¥æ›´æ–¹ä¾¿ä¹‹å¤–ï¼ŒåŒæ—¶ä¹Ÿæ›´åˆ©äºŽé€»è¾‘çš„åˆ¤æ–­å’ŒæŽ¨ç†ï¼Œå› ä¸ºä»£ç ä¸­æ²¡æœ‰å…¶ä»–å†—ä½™çš„éƒ¨åˆ†ã€‚æˆ‘ä»¬ä¸éœ€è¦äº‹ä»¶å¤„ç†ç¨‹åºæ¥æ›´æ–°inputè¾“å…¥â€“ç®€å•çš„ç»‘å®šå°±å¯ä»¥äº†ã€‚ å‡å¦‚ä½ æ˜¯ä¸€ä¸ªåˆšåˆšå…¥é—¨çš„webå¼€å‘è€…ï¼Œå“ªä¸€ç§æ–¹å¼å­¦ä¹ èµ·æ¥æ›´åŠ ç®€å•ï¼Ÿå·¦è¾¹ï¼Ÿè¿˜æ˜¯å³è¾¹ï¼Ÿ æˆ–è®¸ä½ è®¤ä¸ºä»…ä»…æ˜¯å°‘ä¸€ç‚¹ä»£ç çœ‹èµ·æ¥å¾ˆå¾®ä¸è¶³é“ï¼Œä½†æ˜¯å½“ä½ æ‰€è´Ÿè´£çš„é¡¹ç›®å˜å¾—è¶Šæ¥è¶Šå¤§ï¼Œè¶Šæ¥è¶Šå¤æ‚æ—¶ï¼Œç®€æ´çš„ä»£ç å°±å˜å¾—å¾ˆé‡è¦ã€‚æˆ‘ä¸ªäººå‘çŽ°ï¼Œæœ‰æ—¶å€™éœ€è¦èŠ±è´¹æ•°ä¸ªå°æ—¶æ‰èƒ½ç†è§£ä¸€ä¸ªåŒäº‹å†™çš„Reactç»„ä»¶ã€‚ æ€§èƒ½ OKï¼Œæˆ‘ä»¬å·²ç»è§è¯†åˆ°äº†Svelteå¦‚ä½•å®žçŽ°çœŸæ­£çš„ååº”å¼ï¼Œå¹¶ä¸”è®©æˆ‘ä»¬çš„ä»£ç æ›´åŠ ç®€çŸ­å’Œç®€æ´ã€‚é‚£ä¹ˆæ€§èƒ½å‘¢ï¼Ÿå¦‚æžœç”¨Svelteæ¥ç¼–å†™å®Œæ•´çš„åº”ç”¨ï¼Œç”¨æˆ·ä½“éªŒå¦‚ä½•ï¼Ÿ ä¸€ä¸ªè®©Reactå¦‚æ­¤å¼ºå¤§çš„åŽŸå› æ˜¯Reactä½¿ç”¨è™šæ‹ŸDOMæ¥æ›´æ–°UIä¸­å¾ˆå°‘çš„ä¸€éƒ¨åˆ†ï¼Œé¿å…äº†æ¯æ¬¡æ•°æ®æ”¹å˜æ—¶éƒ½é‡ç»˜æ•´ä¸ªDOMã€‚ä½†æ˜¯ï¼Œè¿™ç§æ–¹æ³•æœ‰ä¸€ä¸ªç¼ºç‚¹æ˜¯ï¼Œå½“ä¸€ä¸ªReactç»„ä»¶æ”¹å˜æ—¶ï¼ŒReactä¼šé‡æ–°æ¸²æŸ“æ‰€æœ‰çš„å­ç»„ä»¶ï¼Œä¸ç®¡å­ç»„ä»¶æ˜¯å¦æœ‰é‡æ–°æ¸²æŸ“çš„å¿…è¦ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆReactæä¾›äº†shouldComponentUpdateï¼ŒuseMemoï¼ŒReact.PureComponentç­‰APIã€‚åªè¦ä½¿ç”¨è™šæ‹ŸDOMæ¥æ›´æ–°UIï¼Œè¿™ä¸ªé—®é¢˜å°±ä¼šä¸€ç›´å­˜åœ¨ã€‚ Svelteæ²¡æœ‰ä½¿ç”¨è™šæ‹ŸDOMï¼Œé‚£ä¹ˆå¥¹æ˜¯å¦‚ä½•æ ¹æ®åº”ç”¨çš„çŠ¶æ€æ¥åŒæ­¥æ›´æ–°UIçš„å‘¢ï¼Ÿè®©æˆ‘å†æ¬¡å¼•ç”¨Rich Harrisçš„ç²¾å½©YGLFæ¼”è®²ï¼š Frameworks are not tools for organizing your code. They are tools for organizing your mind. æ¡†æž¶ä¸æ˜¯ç»„ç»‡ä»£ç çš„å·¥å…·ï¼Œæ¡†æž¶æ˜¯ç”¨æ¥ç»„ç»‡ä½ çš„æ€æƒ³çš„ã€‚ æ­£æ˜¯ä¸Šé¢çš„å¼•ç”¨ç»™Richå¸¦æ¥äº†æ¡†æž¶èƒ½å¤Ÿåœ¨æž„å»ºé˜¶æ®µè¿è¡Œçš„çµæ„Ÿï¼Œè¿™æ ·ä»£ç åœ¨è¿è¡Œæ—¶å°±ä¸éœ€è¦å…¶ä»–ä¸­ä»‹ã€‚è¿™ä¸ªçµæ„Ÿä¹Ÿå¯¼è‡´äº†Svelteæ˜¯ç¼–è¯‘å™¨ï¼Œè€Œä¸æ˜¯æ¡†æž¶ã€‚ è¿™ä¸ªç®€å•çš„æƒ³æ³•æ­£æ˜¯Svelteå¦‚æ­¤å¿«é€Ÿçš„åŽŸå› ã€‚Svelteå°†ä½ çš„ä»£ç ç¼–è¯‘ä¸ºæ›´åº•å±‚çš„é«˜æ•ˆçš„ä»£ç ï¼Œç›´æŽ¥ä¸ŽDOMäº¤äº’ã€‚ ä¸Šé¢è¿™äº›éƒ½å¾ˆæ£’ï¼Œä½†æ˜¯Svelteæ˜¯å¦‚ä½•é¿å…æ•°æ®æ”¹å˜æ—¶é‡ç»˜æ•´ä¸ªDOMå‘¢ï¼ŸSvelteä¸ŽReactçš„å·®å¼‚åœ¨äºŽå¦‚ä½•æ„ŸçŸ¥æ•°æ®çš„æ”¹å˜ã€‚æˆ‘ä»¬å·²ç»çŸ¥é“ï¼ŒReactä¾èµ–äºŽç”¨æˆ·è°ƒç”¨APIæ¥æ„ŸçŸ¥æ•°æ®æ”¹å˜ï¼Œè€ŒSvelteåªéœ€è¦ç®€å•çš„ä½¿ç”¨=å°±å¯ä»¥äº†ã€‚ å¦‚æžœä¸€ä¸ªå˜é‡â€”æˆ‘ä»¬å‡è®¾fooâ€”é€šè¿‡=è¿›è¡Œäº†æ›´æ–°ï¼ŒSvelteåªä¼šæ›´æ–°å…¶ä»–ä¾èµ–äºŽfooçš„å˜é‡ã€‚è¿™å…è®¸Svelteåªæ›´æ–°éƒ¨åˆ†ä»Žfooå˜é‡ä¸­èŽ·å–å€¼çš„DOMã€‚ å…³äºŽå…¶ä¸­çš„ç»†èŠ‚ï¼Œå¯ä»¥çœ‹Richçš„è§£é‡Š æœ€åŽä¸€ç‚¹æƒ³æ³• Svelte3.0æ˜¯ä¸€æ®µæ—¶é—´å†…å‘ç”Ÿçš„å…³äºŽè½¯ä»¶å¼€å‘çš„æœ€å¥½çš„äº‹æƒ…ã€‚æœ‰äº›äººå¯ä»¥è¯´è¿™æœ‰äº›å¤¸å¤§å…¶è¯ï¼Œä½†æ˜¯æˆ‘ä¸è¿™ä¹ˆè®¤ä¸ºã€‚SvelteèƒŒåŽçš„ç†å¿µä½¿å¾—æˆ‘ä»¬åœ¨å‘æµè§ˆå™¨ä¸­å¼•ç”¨æ›´å°‘çš„æ¨¡æ¿çš„åŒæ—¶ï¼Œåšæ›´å¤šçš„äº‹æƒ…ã€‚åº”ç”¨ä¹Ÿä¼šå› æ­¤å˜å¾—æ›´åŠ é«˜æ€§èƒ½ï¼Œæ›´åŠ è½»ä¾¿ï¼ŒåŒæ—¶ä»£ç ä¹Ÿå˜å¾—æ›´åŠ ä¼˜é›…å’Œæ˜“è¯»ã€‚é‚£çŽ°åœ¨æ˜¯ä¸æ˜¯Svelteå¯ä»¥é©¬ä¸Šå–ä»£Reactï¼ŒAngularï¼ŒVueæˆ–è€…å…¶ä»–å‰ç«¯æ¡†æž¶å—ï¼Ÿ åˆ°ç›®å‰ä¸ºæ­¢ï¼Œç­”æ¡ˆæ˜¯å¦å®šçš„ã€‚ç›¸æ¯”äºŽè¿™äº›æ¡†æž¶ï¼ŒSvelteç›¸å¯¹æ¥è¯´è¿˜ä¸æ˜¯å¾ˆæˆç†Ÿã€‚å®ƒéœ€è¦æ—¶é—´åŽ»æˆé•¿ï¼Œå˜å¾—æ›´åŠ æˆç†Ÿï¼Œç”šè‡³è§£å†³ä¸€äº›ç›®å‰æˆ‘ä»¬è¿˜æ²¡æœ‰å‘çŽ°çš„é—®é¢˜ã€‚ å°±åƒReactæ¨ªç©ºå‡ºä¸–æ”¹å˜è½¯ä»¶å¼€å‘æ¨¡å¼ä¸€æ ·ï¼ŒSvelteä¹Ÿæœ‰å¯èƒ½æ”¹å˜æˆ‘ä»¬å…³äºŽæ¡†æž¶çš„çœ‹æ³•ï¼Œåœ¨æˆ‘ä»¬åˆ›å»ºæ–°çš„é¡¹ç›®æ—¶æä¾›æ— é™å¯èƒ½ã€‚ æœ€åŽï¼ŒHappy Coding!]]></content>
      <categories>
        <category>ç¿»è¯‘</category>
      </categories>
      <tags>
        <tag>ç¿»è¯‘</tag>
        <tag>æ–°é²œè´§</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScript Clean Code - Best Practices]]></title>
    <url>%2FJavaScript-Clean-Code-Best-Practices%2F</url>
    <content type="text"><![CDATA[æœ¬æ–‡æ˜¯ä¸€ç¯‡ç¿»è¯‘è¿‡æ¥çš„æ–‡ç« ï¼ŒåŽŸæ–‡åœ°å€ï¼šhttps://devinduct.com/blogpost/22/javascript-clean-code-best-practicesä»‹ç»å¦‚æžœä½ å…³å¿ƒä»£ç æœ¬èº«ä»¥åŠä»£ç æ˜¯å¦‚ä½•è¢«ç¼–å†™çš„ï¼Œè€Œä¸æ˜¯ä»…ä»…å…³å¿ƒä»£ç æ˜¯å¦æœ‰æ•ˆï¼Œä½ å¯ä»¥è¯´ä½ ç»ƒä¹ å¹¶ä¸”å…³å¿ƒæ•´æ´çš„ä»£ç ã€‚ä¸€ä¸ªä¸“ä¸šçš„å¼€å‘äººå‘˜ä¼šä¸ºæœªæ¥çš„è‡ªå·±ä»¥åŠå…¶ä»–äººå‘˜ç¼–å†™ä»£ç ï¼Œè€Œä¸ä»…ä»…æ˜¯ä¸ºäº†æœºå™¨ã€‚ä½ æ‰€ç¼–å†™çš„ä»»ä½•ä»£ç éƒ½ä¸ä¼šåªè¢«ç¼–å†™ä¸€æ¬¡ï¼Œç›¸åï¼Œå®ƒä¼šé™é™åœ°ç­‰å¾…ä¸‹ä¸€ä¸ªæŽ¥æ‰‹çš„äººï¼Œå¹¶ä¸”è®©ä»–å¤´å¤§ã€‚å¸Œæœ›é‚£ä¸ªäººä¸æ˜¯ä½ ~åŸºäºŽæ­¤ï¼Œæ•´æ´çš„ä»£ç å¯ä»¥è¢«å®šä¹‰ä¸ºå…·æœ‰ä»¥ä¸‹ç‰¹å¾çš„ä»£ç ï¼šè‰¯å¥½çš„å¯è¯»æ€§ï¼Œä¾¿äºŽè¢«äººæ‰€ç†è§£ï¼Œæ˜“äºŽä¿®æ”¹å’Œæ‰©å±•ã€‚é—®é—®ä½ è‡ªå·±ï¼Œæœ‰å¤šå°‘æ¬¡ä½ æŽ¥æ‰‹åˆ«äººçš„å·¥ä½œæ—¶ä½ çš„ç¬¬ä¸€å°è±¡æ—¶ä¸‹é¢çš„**â€œWTFâ€** é—®é¢˜ä¹‹ä¸€ï¼š&quot;WTF is that?&quot;&quot;WTF did you do here?&quot;&quot;WTF is this for?&quot;ä¸‹é¢è¿™å¼ å›¾ç‰‡å¾ˆå¥½åœ°å±•ç¤ºäº†ä¸Šè¿°å†…å®¹ï¼š**Robert C. Martin(Uncle Bob)**çš„ä¸€å¥è¯åº”è¯¥ä¼šè®©ä½ æ€è€ƒä½ å†™ä»£ç çš„æ–¹å¼ï¼šè™½ç„¶ç³Ÿç³•çš„ä»£ç ä¹Ÿå¯ä»¥è¿è¡Œï¼Œä½†æ˜¯å¦‚æžœä»£ç ä¸æ•´æ´ï¼Œå®ƒä¼šè®©å¼€å‘ç»„ç»‡é™·å…¥å›°å¢ƒã€‚(Even bad code can function. But if the code isnâ€™t clean, it can bring a development organization to its knees.)åœ¨è¿™è¾¹æ–‡ç« ä¸­å°†ä¼šæŠŠæ³¨æ„åŠ›æ”¾åœ¨JavaScriptä¸Šï¼Œä½†æ˜¯æ–‡ç« ä¸­æ‰€è¯´çš„ä¸€äº›åŽŸåˆ™ä¹Ÿå¯ä»¥è¢«åº”ç”¨åœ¨å…¶ä»–ç¼–ç¨‹è¯­è¨€ä¸­ã€‚ä½ çœŸæ­£æ¥è¿™é˜…è¯»çš„éƒ¨åˆ†-æ•´æ´ä»£ç  æœ€ä½³å®žè·µå¼ºç±»åž‹æ£€æŸ¥ä½¿ç”¨ === ä»£æ›¿ ==1234567891011121314151617// If not handled properly, it can dramatically affect the program logic. It's like, you expect to go left, but for some reason, you go right.0 == false // true0 === false // false2 == "2" // true2 === "2" // false// exampleconst value = "500";if (value === 500) &#123; console.log(value); // it will not be reached&#125;if (value === "500") &#123; console.log(value); // it will be reached&#125; å˜é‡ å˜é‡ååº”è¯¥èƒ½å¤Ÿè§£é‡Šå˜é‡èƒŒåŽçš„æ„å›¾å’Œä½œç”¨ï¼Œè¿™æ ·ä¼šä½¿å˜é‡å˜å¾—æ˜“äºŽæœç´¢å’Œç†è§£ã€‚ åä»£ç ï¼š 1234567let daysSLV = 10;let y = new Date().getFullYear();let ok;if (user.age &gt; 30) &#123; ok = true;&#125; å¥½ä»£ç ï¼š 1234567const MAX_AGE = 30;let daysSinceLastVisit = 10;let currentYear = new Date().getFullYear();...const isUserOlderThanAllowed = user.age &gt; MAX_AGE; ä¸è¦åœ¨å˜é‡åä¸­æ·»åŠ é¢å¤–çš„ä¸å¿…è¦çš„å•è¯ åä»£ç ï¼š 12let nameValue;let theProduct; å¥½ä»£ç ï¼š 12let name;let product; ä¸è¦è®©å˜é‡çš„å«ä¹‰ä¾é™„ä¸Šä¸‹æ–‡ åä»£ç ï¼š 1234567891011const users = ["John", "Marco", "Peter"];users.forEach(u =&gt; &#123; doSomething(); doSomethingElse(); // ... // ... // ... // ... // Here we have the WTF situation: WTF is `u` for? register(u);&#125;); å¥½ä»£ç ï¼š 12345678910const users = ["John", "Marco", "Peter"];users.forEach(user =&gt; &#123; doSomething(); doSomethingElse(); // ... // ... // ... // ... register(user);&#125;); ä¸è¦æ·»åŠ ä¸å¿…è¦çš„ä¸Šä¸‹æ–‡ åä»£ç ï¼š 123456789const user = &#123; userName: "John", userSurname: "Doe", userAge: "28"&#125;;...user.userName; å¥½ä»£ç ï¼š 123456789const user = &#123; name: "John", surname: "Doe", age: "28"&#125;;...user.name; å‡½æ•° ä½¿ç”¨é•¿çš„å…·æœ‰æè¿°æ€§çš„åå­—ï¼Œè€ƒè™‘å°†å‡½æ•°åå®šä¹‰æˆä¸€ç§è¡Œä¸ºã€‚å‡½æ•°ååº”è¯¥æ˜¯ä¸€ä¸ªåŠ¨è¯æˆ–è€…çŸ­è¯­ï¼Œå¹¶ä¸”å®Œå…¨æš´éœ²å‡½æ•°åŠŸèƒ½å’Œå˜é‡åçš„ä½œç”¨ã€‚ åä»£ç ï¼š 123function notif(user) &#123; // implementation&#125; 123function notifyUser(emailAddress) &#123; // implementation&#125; é¿å…ä½¿ç”¨è¿‡å¤šçš„å‚æ•°ã€‚ç†æƒ³çš„æƒ…å†µä¸‹ï¼Œä¸€ä¸ªå‡½æ•°çš„å˜é‡ä¸åº”è¯¥è¶…è¿‡ä¸¤ä¸ªã€‚å‡½æ•°çš„å˜é‡è¶Šå°‘è¶Šå®¹æ˜“è¿›è¡Œæµ‹è¯•ã€‚ åä»£ç ï¼š 123function getUsers(fields, fromDate, toDate) &#123; // implementation&#125; å¥½ä»£ç ï¼š 123456789function getUsers(&#123; fields, fromDate, toDate &#125;) &#123; // implementation&#125;getUsers(&#123; fields: ['name', 'surname', 'email'], fromDate: '2019-01-01', toDate: '2019-01-18'&#125;); ä½¿ç”¨é»˜è®¤å‚æ•°å€¼ä»£æ›¿æ¡ä»¶è¯­å¥ åä»£ç ï¼š 1234function createShape(type) &#123; const shapeType = type || "cube"; // ...&#125; å¥½ä»£ç ï¼š 123function createShape(type = "cube") &#123; // ...&#125; æ¯ä¸ªå‡½æ•°åº”è¯¥åªåšä¸€ä»¶äº‹æƒ…ï¼ˆSRP å•ä¸€èŒè´£åŽŸåˆ™ï¼‰ã€‚é¿å…åœ¨ä¸€ä¸ªå‡½æ•°ä¸­æ‰§è¡Œè¿‡å¤šçš„åŠ¨ä½œã€‚ åä»£ç ï¼š 12345678function notifyUsers(users) &#123; users.forEach(user =&gt; &#123; const userRecord = database.lookup(user); if (userRecord.isVerified()) &#123; notify(user); &#125; &#125;);&#125; å¥½ä»£ç ï¼š 12345678function notifyVerifiedUsers(users) &#123; users.filter(isUserVerified).forEach(notify);&#125;function isUserVerified(user) &#123; const userRecord = database.lookup(user); return userRecord.isVerified();&#125; ä½¿ç”¨Object.assignè®¾ç½®é»˜è®¤å¯¹è±¡å±žæ€§ åä»£ç ï¼š 12345678910111213const shapeConfig = &#123; type: "cube", width: 200, height: null&#125;;function createShape(config) &#123; config.type = config.type || "cube"; config.width = config.width || 250; config.height = config.width || 250;&#125;createShape(shapeConfig); å¥½ä»£ç ï¼š 1234567891011121314151617181920const shapeConfig = &#123; type: "cube", width: 200 // Exclude the 'height' key&#125;;function createShape(config) &#123; config = Object.assign( &#123; type: "cube", width: 250, height: 250 &#125;, config ); ...&#125;createShape(shapeConfig); ä¸è¦åœ¨å‚æ•°ä¸­è®¾ç½®flagï¼Œåº”è¯¥è¿™äº›flagè¡¨æ˜Žå‡½æ•°åœ¨åšé¢å¤–çš„æ“ä½œã€‚ åä»£ç ï¼š 1234567function createFile(name, isPublic) &#123; if (isPublic) &#123; fs.create(`./public/$&#123;name&#125;`); &#125; else &#123; fs.create(name); &#125;&#125; å¥½ä»£ç ï¼š 1234567function createFile(name) &#123; fs.create(name);&#125;function createPublicFile(name) &#123; createFile(`./public/$&#123;name&#125;`);&#125; ä¸è¦æ±¡æŸ“é»˜è®¤çš„å…¨å±€å¯¹è±¡ï¼Œå¦‚æžœä½ éœ€è¦æ‰©å±•ä¸€ä¸ªå·²ç»å­˜åœ¨çš„å¯¹è±¡ï¼Œä½¿ç”¨ES6ä¸­çš„ç±»å’Œç»§æ‰¿ï¼Œä¸è¦ç›´æŽ¥ä¿®æ”¹åŽŸç”Ÿå¯¹è±¡çš„åŽŸåž‹é“¾ åä»£ç ï¼š 123Array.prototype.myFunc = function myFunc() &#123; // implementation&#125;; å¥½ä»£ç ï¼š 12345class SuperArray extends Array &#123; myFunc() &#123; // implementation &#125;&#125; æ¡ä»¶è¯­å¥ é¿å…å¦å®šçš„æ¡ä»¶è¯­å¥ åä»£ç ï¼š 1234567function isUserNotBlocked(user) &#123; // implementation&#125;if (!isUserNotBlocked(user)) &#123; // implementation&#125; å¥½ä»£ç ï¼š 1234567function isUserBlocked(user) &#123; // implementation&#125;if (isUserBlocked(user)) &#123; // implementation&#125; å½“ç¡®å®šå€¼ä¸ºBooleanè€Œä¸æ˜¯undefinedæˆ–è€…nullæ—¶ï¼Œä½¿ç”¨çŸ­çš„æ¡ä»¶è¯­å¥ã€‚è¿™å¯èƒ½æ˜¯å¾ˆå°çš„ç»†èŠ‚ï¼Œä½†æ˜¯å´å€¼å¾—ä¸€æã€‚ åä»£ç ï¼š 1234567if (isValid === true) &#123; // do something...&#125;if (isValid === false) &#123; // do something...&#125; å¥½ä»£ç ï¼š 1234567if (isValid) &#123; // do something...&#125;if (!isValid) &#123; // do something...&#125; å°½å¯èƒ½é¿å…æ¡ä»¶è¯­å¥ï¼Œä½¿ç”¨ç»§æ‰¿å’Œå¤šæ€æ¥ä»£æ›¿ åä»£ç ï¼š 12345678910111213class Car &#123; // ... getMaximumSpeed() &#123; switch (this.type) &#123; case "Ford": return this.someFactor() + this.anotherFactor(); case "Mazda": return this.someFactor(); case "McLaren": return this.someFactor() - this.anotherFactor(); &#125; &#125;&#125; å¥½ä»£ç ï¼š 123456789101112131415161718192021222324class Car &#123; // ...&#125;class Ford extends Car &#123; // ... getMaximumSpeed() &#123; return this.someFactor() + this.anotherFactor(); &#125;&#125;class Mazda extends Car &#123; // ... getMaximumSpeed() &#123; return this.someFactor(); &#125;&#125;class McLaren extends Car &#123; // ... getMaximumSpeed() &#123; return this.someFactor() - this.anotherFactor(); &#125;&#125; ES ç±» Classæ˜¯JavaScriptä¸­çš„è¯­æ³•ç³–ï¼Œä½¿ç”¨çš„ä¹Ÿæ˜¯åŽŸåž‹ç»§æ‰¿ã€‚åœ¨ä»£ç ä¸­ä½ åº”è¯¥ä½¿ç”¨ES6ä¸­çš„Classè¯­æ³•ç³–ä»£ç åŽŸç”Ÿæž„é€ å‡½æ•°ã€‚ åä»£ç ï¼š 12345678910111213141516171819202122const Person = function(name) &#123; if (!(this instanceof Person)) &#123; throw new Error("Instantiate Person with `new` keyword"); &#125; this.name = name;&#125;;Person.prototype.sayHello = function sayHello() &#123; /**/ &#125;;const Student = function(name, school) &#123; if (!(this instanceof Student)) &#123; throw new Error("Instantiate Student with `new` keyword"); &#125; Person.call(this, name); this.school = school;&#125;;Student.prototype = Object.create(Person.prototype);Student.prototype.constructor = Student;Student.prototype.printSchoolName = function printSchoolName() &#123; /**/ &#125;; å¥½ä»£ç ï¼š 1234567891011121314151617181920class Person &#123; constructor(name) &#123; this.name = name; &#125; sayHello() &#123; /* ... */ &#125;&#125;class Student extends Person &#123; constructor(name, school) &#123; super(name); this.school = school; &#125; printSchoolName() &#123; /* ... */ &#125;&#125; ä½¿ç”¨æ–¹æ³•é“¾ã€‚åŒ…æ‹¬JQueryå’ŒLodashåœ¨å†…çš„å¾ˆå¤šåŒ…éƒ½ä½¿ç”¨äº†è¿™ç§æ¨¡å¼ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼Œä½ çš„ä»£ç ä¼šçœ‹èµ·æ¥æ›´åŠ ç®€æ´ã€‚åœ¨ä½ çš„ç±»ä¸­ï¼Œç®€å•åœ°åœ¨æ–¹æ³•ä¸­è¿”å›žthiså…³é”®å­—ï¼Œä½ å°±å¯ä»¥å°†æ›´å¤šåœ°ç±»æ–¹æ³•ä¸²æŽ¥èµ·æ¥ã€‚ åä»£ç ï¼š 12345678910111213141516171819202122class Person &#123; constructor(name) &#123; this.name = name; &#125; setSurname(surname) &#123; this.surname = surname; &#125; setAge(age) &#123; this.age = age; &#125; save() &#123; console.log(this.name, this.surname, this.age); &#125;&#125;const person = new Person("John");person.setSurname("Doe");person.setAge(29);person.save(); å¥½ä»£ç ï¼š 12345678910111213141516171819202122232425262728class Person &#123; constructor(name) &#123; this.name = name; &#125; setSurname(surname) &#123; this.surname = surname; // Return this for chaining return this; &#125; setAge(age) &#123; this.age = age; // Return this for chaining return this; &#125; save() &#123; console.log(this.name, this.surname, this.age); // Return this for chaining return this; &#125;&#125;const person = new Person("John") .setSurname("Doe") .setAge(29) .save(); æ™®éçš„éœ€è¦æ³¨æ„å’Œé¿å…çš„åœ°æ–¹ ä¸€èˆ¬æ¥è¯´ï¼Œä½ åº”è¯¥å°½å¯èƒ½åœ°é¿å…ç¼–å†™é‡å¤çš„ä»£ç ï¼Œä»¥åŠåœ¨ä»£ç ä¸­ç•™ä¸‹ç”¨ä¸åˆ°çš„æ­»ä»£ç ã€‚ ä½ å¯èƒ½ä¼šå› ä¸ºå„ç§åŽŸå› åœ¨ä»£ç ä¸­ç¼–å†™å†—ä½™çš„ä»£ç ã€‚æ¯”å¦‚è¯´ï¼Œä½ æœ‰ä¸¤ä¸ªå¾ˆç›¸ä¼¼çš„å¯¹è±¡ï¼Œå½¼æ­¤é—´åªæœ‰ä¸€ç‚¹ç‚¹çš„ä¸åŒã€‚ä½†æ˜¯ç”±äºŽä»–ä»¬çš„ä¸åŒç‚¹çš„æœ¬è´¨ï¼Œæˆ–è€…ç´§è¿«çš„é¡¹ç›®æŽ’æœŸï¼Œä½ ä¸å¾—ä¸åˆ›å»ºä¸¤ä¸ªå‡ ä¹Žæ‹¥æœ‰ç›¸åŒçš„ä»£ç çš„ç±»æˆ–è€…å‡½æ•°ã€‚è€Œæƒ³è¦åŽ»é™¤è¿™äº›å†—ä½™çš„ä»£ç æ„å‘³ç€æŠ½è±¡å‡ºä¸åŒç‚¹ï¼Œåœ¨æ›´é«˜çš„å±‚æ¬¡ä¸Šæ¥æ‰§è¡Œæ“ä½œã€‚ å…³äºŽæ­»ä»£ç ï¼ŒæŒ‡çš„æ˜¯é‚£äº›å†ä¹Ÿç”¨ä¸åˆ°çš„ä»£ç ï¼Œå¯èƒ½åœ¨é¡¹ç›®å¼€å‘çš„æŸä¸ªèŠ‚ç‚¹ï¼Œä½ çš„ä¸€äº›å†³å®šè®©è¿™äº›ä»£ç ä¸å†åŒ…å«ä»»ä½•çš„ç”¨é€”ã€‚ä½ åº”è¯¥åœ¨ä»£ç åº“ä¸­æœç´¢å¹¶åˆ é™¤æ‰€æœ‰ç”¨ä¸åˆ°çš„å‡½æ•°å’Œä»£ç å—ã€‚æˆ‘çš„ä¸€ä¸ªå»ºè®®æ˜¯ï¼Œä¸€æ—¦ä½ å†³å®šæŸäº›ä»£ç ä¸å†è¢«éœ€è¦ï¼Œé©¬ä¸Šåˆ é™¤å®ƒã€‚å¦åˆ™ä½ å¯èƒ½ä¼šå¿˜è®°çš„~ ä¸‹é¢è¿™å¼ å›¾ç‰‡è¡¨æ˜Žäº†ä½ çœ‹åˆ°ä¸€äº›æ­»ä»£ç ä½†æ˜¯åˆä¸è®°å¾—æ˜¯å¦æœ‰ä½œç”¨æ—¶çš„æ„Ÿå—ï¼š when you forget the purpose of dead code æ€»ç»“ ä¸Šé¢æ‰€æè¿°çš„åªæ˜¯ä½ èƒ½çš„ä¼˜åŒ–ä»£ç çš„ä¸€å°éƒ¨åˆ†ã€‚è¿™é‡Œæ‰€æè¿°çš„åŽŸåˆ™ï¼Œæ˜¯æˆ‘ä¸ªäººçœ‹æ¥äººä»¬ç»å¸¸ä¸éµå®ˆçš„åŽŸåˆ™ã€‚äººä»¬å°è¯•ç€åŽ»éµå®ˆè¿™äº›åŽŸåˆ™ï¼Œä½†æ˜¯å¾€å¾€ç”±äºŽå„ç§åŽŸå› å¯¼è‡´å¤±è´¥ã€‚å¯èƒ½åœ¨é¡¹ç›®å¼€å§‹çš„æ—¶å€™ï¼Œä»£ç å¾ˆç®€æ´ã€æ•´é½ï¼Œä½†æ˜¯å½“æŽ’æœŸè¶Šæ¥è¶Šè¿‘æ—¶ï¼Œè¿™äº›åŽŸåˆ™ç»å¸¸éƒ½ä¼šè¢«å¿½ç•¥å¹¶ä¸”è¢«ç§»åˆ°**&quot;TODO&quot;æˆ–è€…REFACTOR**çš„éƒ¨åˆ†ã€‚åœ¨è¿™äº›æ—¶å€™ï¼Œå®¢æˆ·æ›´å…³å¿ƒçš„æ˜¯æŽ’æœŸçš„æˆªæ­¢ï¼Œè€Œä¸æ˜¯ç¼–å†™æ›´åŠ ç®€æ´çš„ä»£ç ã€‚]]></content>
      <categories>
        <category>ç¿»è¯‘</category>
      </categories>
      <tags>
        <tag>ç¿»è¯‘</tag>
        <tag>JavaScript</tag>
      </tags>
  </entry>
</search>
